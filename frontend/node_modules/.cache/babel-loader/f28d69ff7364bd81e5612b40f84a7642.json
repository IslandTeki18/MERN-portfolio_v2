{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{useEffect}from\"react\";import{Link}from\"react-router-dom\";import Loader from\"../components/Loader\";import Message from\"../components/Message\";import{listContacts,deleteContact}from\"../actions/contactActions\";import{useDispatch,useSelector}from\"react-redux\";var AdminContactListScreen=function AdminContactListScreen(_ref){var history=_ref.history;var dispatch=useDispatch();var contactList=useSelector(function(state){return state.contactList;});var loading=contactList.loading,error=contactList.error,contacts=contactList.contacts;var contactDelete=useSelector(function(state){return state.contactDelete;});var loadingDelete=contactDelete.loading,errorDelete=contactDelete.error,successDelete=contactDelete.success;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listContacts());}else{history.push(\"/admin/login\");}},[dispatch,userInfo,history,successDelete]);var deleteHandler=function deleteHandler(id){if(window.confirm(\"Are you sure you want to delete this message?\")){dispatch(deleteContact(id));}};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 offset-md-2 my-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Contact List\"})}),loadingDelete&&/*#__PURE__*/_jsx(Loader,{}),errorDelete&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorDelete}),successDelete&&/*#__PURE__*/_jsx(Message,{variant:\"success\",children:\"Contact Information Deleted\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-dark table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PHONE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"EMAIL\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"HAVE READ?\"}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:contacts.map(function(contact){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:contact._id.substring(18)}),/*#__PURE__*/_jsx(\"td\",{children:contact.name}),/*#__PURE__*/_jsx(\"td\",{children:contact.phone}),/*#__PURE__*/_jsx(\"td\",{children:contact.email}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:contact.haveRead===true?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:\"green\"}}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:\"red\"}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/contact/\".concat(contact._id,\"/details\"),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye\",style:{fontSize:\"20px\",color:\"white\"}})})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link\",onClick:function onClick(){return deleteHandler(contact._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\",style:{fontSize:\"20px\",color:\"red\"}})})})]},contact._id);})})]})})]})})});};export default AdminContactListScreen;","map":{"version":3,"sources":["/Users/landonmckell/PracticeProjects/Portfolio/frontend/src/screens/AdminContactListScreen.js"],"names":["useEffect","Link","Loader","Message","listContacts","deleteContact","useDispatch","useSelector","AdminContactListScreen","history","dispatch","contactList","state","loading","error","contacts","contactDelete","loadingDelete","errorDelete","successDelete","success","userLogin","userInfo","isAdmin","push","deleteHandler","id","window","confirm","map","contact","_id","substring","name","phone","email","haveRead","color","fontSize"],"mappings":"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","sourcesContent":["import { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Loader from \"../components/Loader\";\nimport Message from \"../components/Message\";\nimport { listContacts, deleteContact } from \"../actions/contactActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst AdminContactListScreen = ({ history }) => {\n  const dispatch = useDispatch();\n\n  const contactList = useSelector((state) => state.contactList);\n  const { loading, error, contacts } = contactList;\n\n  const contactDelete = useSelector((state) => state.contactDelete);\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete,\n  } = contactDelete;\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(listContacts());\n    } else {\n      history.push(\"/admin/login\");\n    }\n  }, [dispatch, userInfo, history, successDelete]);\n\n  const deleteHandler = (id) => {\n    if (window.confirm(\"Are you sure you want to delete this message?\")) {\n      dispatch(deleteContact(id));\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-md-8 offset-md-2 my-4\">\n          <div className=\"col\">\n            <h3>Contact List</h3>\n          </div>\n          {loadingDelete && <Loader />}\n          {errorDelete && <Message variant=\"danger\">{errorDelete}</Message>}\n          {successDelete && (\n            <Message variant=\"success\">{`Contact Information Deleted`}</Message>\n          )}\n          {loading ? (\n            <Loader />\n          ) : error ? (\n            <Message variant=\"danger\">{error}</Message>\n          ) : (\n            <div className=\"table-responsive\">\n              <table className=\"table table-dark table-striped\">\n                <thead>\n                  <tr>\n                    <th>ID</th>\n                    <th>NAME</th>\n                    <th>PHONE</th>\n                    <th>EMAIL</th>\n                    <th className=\"text-center\">HAVE READ?</th>\n                    <th></th>\n                    <th></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {contacts.map((contact) => (\n                    <tr key={contact._id}>\n                      <td>{contact._id.substring(18)}</td>\n                      <td>{contact.name}</td>\n                      <td>{contact.phone}</td>\n                      <td>{contact.email}</td>\n                      <td className=\"text-center\">\n                        {contact.haveRead === true ? (\n                          <i\n                            className=\"fas fa-check\"\n                            style={{ color: \"green\" }}\n                          ></i>\n                        ) : (\n                          <i\n                            className=\"fas fa-times\"\n                            style={{ color: \"red\" }}\n                          ></i>\n                        )}\n                      </td>\n                      <td>\n                        <Link to={`/admin/contact/${contact._id}/details`}>\n                          <button className=\"btn btn-link\">\n                            <i\n                              className=\"fas fa-eye\"\n                              style={{ fontSize: \"20px\", color: \"white\" }}\n                            ></i>\n                          </button>\n                        </Link>\n                      </td>\n                      <td>\n                        <button\n                          className=\"btn btn-link\"\n                          onClick={() => deleteHandler(contact._id)}\n                        >\n                          <i\n                            className=\"fas fa-trash\"\n                            style={{ fontSize: \"20px\", color: \"red\" }}\n                          ></i>\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminContactListScreen;\n"]},"metadata":{},"sourceType":"module"}