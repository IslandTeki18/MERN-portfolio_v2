{"ast":null,"code":"import _regeneratorRuntime from\"/Users/landonmckell/PracticeProjects/Portfolio/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/landonmckell/PracticeProjects/Portfolio/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{CONTACT_LIST_REQUEST,CONTACT_LIST_SUCCESS,CONTACT_LIST_FAIL,CONTACT_CREATE_REQUEST,CONTACT_CREATE_SUCCESS,CONTACT_CREATE_FAIL,CONTACT_DETAILS_REQUEST,CONTACT_DETAILS_SUCCESS,CONTACT_DETAILS_FAIL,CONTACT_DELETE_REQUEST,CONTACT_DELETE_SUCCESS,CONTACT_DELETE_FAIL,CONTACT_UPDATE_REQUEST,CONTACT_UPDATE_SUCCESS,CONTACT_UPDATE_FAIL}from\"../constants/contactConstants\";import axios from\"axios\";import{logout}from\"./userActions\";export var listContacts=function listContacts(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var _getState,userInfo,config,_yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:CONTACT_LIST_REQUEST});_getState=getState(),userInfo=_getState.userLogin.userInfo;config={headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(userInfo.token)}};_context.next=6;return axios.get(\"/api/contacts\",config);case 6:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch({type:CONTACT_LIST_SUCCESS,payload:data});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);dispatch({type:CONTACT_LIST_FAIL,payload:_context.t0.response&&_context.t0.response.data.message?_context.t0.response.data.message:_context.t0.message});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var getContactDetails=function getContactDetails(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){var _getState2,userInfo,config,_yield$axios$get2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:CONTACT_DETAILS_REQUEST});_getState2=getState(),userInfo=_getState2.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context2.next=6;return axios.get(\"/api/contacts/\".concat(id),config);case 6:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;dispatch({type:CONTACT_DETAILS_SUCCESS,payload:data});_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);dispatch({type:CONTACT_DETAILS_FAIL,payload:_context2.t0.response&&_context2.t0.response.data.message?_context2.t0.response.data.message:_context2.t0.message});case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var createContact=function createContact(name,phone,email,message){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:CONTACT_CREATE_REQUEST});config={headers:{\"Content-Type\":\"application/json\"}};_context3.next=5;return axios.post(\"/api/contacts\",{name:name,phone:phone,email:email,message:message},config);case 5:_yield$axios$post=_context3.sent;data=_yield$axios$post.data;dispatch({type:CONTACT_CREATE_SUCCESS,payload:data});_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);dispatch({type:CONTACT_CREATE_FAIL,payload:_context3.t0.response&&_context3.t0.response.data.message?_context3.t0.response.data.message:_context3.t0.message});case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,10]]);}));return function(_x5){return _ref3.apply(this,arguments);};}();};export var deleteContact=function deleteContact(id){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var _getState3,userInfo,config,message;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;dispatch({type:CONTACT_DELETE_REQUEST});_getState3=getState(),userInfo=_getState3.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context4.next=6;return axios.delete(\"/api/contacts/\".concat(id),config);case 6:dispatch({type:CONTACT_DELETE_SUCCESS});_context4.next=14;break;case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](0);message=_context4.t0.response&&_context4.t0.response.data.message?_context4.t0.response.data.message:_context4.t0.message;if(message===\"Not authorized, token failed\"){dispatch(logout());}dispatch({type:CONTACT_DELETE_FAIL,payload:message});case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[0,9]]);}));return function(_x6,_x7){return _ref4.apply(this,arguments);};}();};export var updateContact=function updateContact(contact){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch,getState){var _getState4,userInfo,config,_yield$axios$put,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;dispatch({type:CONTACT_UPDATE_REQUEST});_getState4=getState(),userInfo=_getState4.userLogin.userInfo;config={headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(userInfo.token)}};_context5.next=6;return axios.put(\"/api/contacts/\".concat(contact._id),contact,config);case 6:_yield$axios$put=_context5.sent;data=_yield$axios$put.data;dispatch({type:CONTACT_UPDATE_SUCCESS,payload:data});_context5.next=14;break;case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](0);dispatch({type:CONTACT_UPDATE_FAIL,payload:_context5.t0.response&&_context5.t0.response.data.message?_context5.t0.response.data.message:_context5.t0.message});case 14:case\"end\":return _context5.stop();}}},_callee5,null,[[0,11]]);}));return function(_x8,_x9){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/landonmckell/PracticeProjects/Portfolio/frontend/src/actions/contactActions.js"],"names":["CONTACT_LIST_REQUEST","CONTACT_LIST_SUCCESS","CONTACT_LIST_FAIL","CONTACT_CREATE_REQUEST","CONTACT_CREATE_SUCCESS","CONTACT_CREATE_FAIL","CONTACT_DETAILS_REQUEST","CONTACT_DETAILS_SUCCESS","CONTACT_DETAILS_FAIL","CONTACT_DELETE_REQUEST","CONTACT_DELETE_SUCCESS","CONTACT_DELETE_FAIL","CONTACT_UPDATE_REQUEST","CONTACT_UPDATE_SUCCESS","CONTACT_UPDATE_FAIL","axios","logout","listContacts","dispatch","getState","type","userInfo","userLogin","config","headers","Authorization","token","get","data","payload","response","message","getContactDetails","id","createContact","name","phone","email","post","deleteContact","delete","updateContact","contact","put","_id"],"mappings":"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","sourcesContent":["import {\n  CONTACT_LIST_REQUEST,\n  CONTACT_LIST_SUCCESS,\n  CONTACT_LIST_FAIL,\n  CONTACT_CREATE_REQUEST,\n  CONTACT_CREATE_SUCCESS,\n  CONTACT_CREATE_FAIL,\n  CONTACT_DETAILS_REQUEST,\n  CONTACT_DETAILS_SUCCESS,\n  CONTACT_DETAILS_FAIL,\n  CONTACT_DELETE_REQUEST,\n  CONTACT_DELETE_SUCCESS,\n  CONTACT_DELETE_FAIL,\n  CONTACT_UPDATE_REQUEST,\n  CONTACT_UPDATE_SUCCESS,\n  CONTACT_UPDATE_FAIL,\n} from \"../constants/contactConstants\";\nimport axios from \"axios\";\nimport { logout } from \"./userActions\";\n\nexport const listContacts = () => async (dispatch, getState) => {\n  try {\n    dispatch({ type: CONTACT_LIST_REQUEST });\n\n    const {\n      userLogin: { userInfo },\n    } = getState();\n\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    };\n\n    const { data } = await axios.get(\"/api/contacts\", config);\n\n    dispatch({\n      type: CONTACT_LIST_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: CONTACT_LIST_FAIL,\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    });\n  }\n};\n\nexport const getContactDetails = (id) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: CONTACT_DETAILS_REQUEST });\n\n    const {\n      userLogin: { userInfo },\n    } = getState();\n\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    };\n    const { data } = await axios.get(`/api/contacts/${id}`, config);\n    dispatch({\n      type: CONTACT_DETAILS_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: CONTACT_DETAILS_FAIL,\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    });\n  }\n};\n\nexport const createContact = (name, phone, email, message) => async (\n  dispatch\n) => {\n  try {\n    dispatch({ type: CONTACT_CREATE_REQUEST });\n\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n\n    const { data } = await axios.post(\n      \"/api/contacts\",\n      {\n        name,\n        phone,\n        email,\n        message,\n      },\n      config\n    );\n\n    dispatch({\n      type: CONTACT_CREATE_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: CONTACT_CREATE_FAIL,\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    });\n  }\n};\n\nexport const deleteContact = (id) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: CONTACT_DELETE_REQUEST });\n\n    const {\n      userLogin: { userInfo },\n    } = getState();\n\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    };\n\n    await axios.delete(`/api/contacts/${id}`, config);\n\n    dispatch({ type: CONTACT_DELETE_SUCCESS });\n  } catch (error) {\n    const message =\n      error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message;\n    if (message === \"Not authorized, token failed\") {\n      dispatch(logout());\n    }\n    dispatch({\n      type: CONTACT_DELETE_FAIL,\n      payload: message,\n    });\n  }\n};\n\nexport const updateContact = (contact) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: CONTACT_UPDATE_REQUEST });\n\n    const {\n      userLogin: { userInfo },\n    } = getState();\n\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    };\n\n    const { data } = await axios.put(\n      `/api/contacts/${contact._id}`,\n      contact,\n      config\n    );\n\n    dispatch({\n      type: CONTACT_UPDATE_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: CONTACT_UPDATE_FAIL,\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}