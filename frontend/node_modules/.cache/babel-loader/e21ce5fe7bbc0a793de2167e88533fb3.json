{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/landonmckell/PracticeProjects/Portfolio/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import Loader from\"../components/Loader\";import Message from\"../components/Message\";import{useSelector,useDispatch}from\"react-redux\";import{getContactDetails,updateContact,deleteContact}from\"../actions/contactActions\";import{CONTACT_UPDATE_RESET}from\"../constants/contactConstants\";var AdminContactDetailsScreen=function AdminContactDetailsScreen(_ref){var match=_ref.match,history=_ref.history;var contactId=match.params.id;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),haveRead=_useState2[0],setHaveRead=_useState2[1];var dispatch=useDispatch();var contactDetails=useSelector(function(state){return state.contactDetails;});var loading=contactDetails.loading,error=contactDetails.error,contact=contactDetails.contact;var contactUpdate=useSelector(function(state){return state.contactUpdate;});var loadingUpdate=contactUpdate.loading,errorUpdate=contactUpdate.error,successUpdate=contactUpdate.success;useEffect(function(){if(successUpdate){dispatch({type:CONTACT_UPDATE_RESET});history.push(\"/admin/viewcontacts\");}else{if(!contact.name||contact._id!==contactId){dispatch(getContactDetails(contactId));}else{setHaveRead(contact.haveRead);}}},[dispatch,history,successUpdate,contact,contactId]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(updateContact({_id:contactId,haveRead:haveRead}));};var deleteHandler=function deleteHandler(id){if(window.confirm(\"Are you sure you want to delete this message?\")){dispatch(deleteContact(id));history.push(\"/admin/viewcontacts\");}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-light m-3\",to:\"/admin/viewcontacts\",children:\"Go Back\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 offset-md-2 my-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Contact Details\"}),loadingUpdate&&/*#__PURE__*/_jsx(Loader,{}),errorUpdate&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorUpdate}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"em\",{children:\"Name: \"}),contact.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"em\",{children:\"Phone:\"}),/*#__PURE__*/_jsx(\"br\",{}),contact.phone]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"em\",{children:\"Email: \"}),contact.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"em\",{children:\"Message:\"}),/*#__PURE__*/_jsx(\"br\",{}),contact.message]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"form\",{onSubmit:submitHandler,children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"havereadSelection\",children:\"Confirm Read Message?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:haveRead,id:\"haveReadCheck\",onChange:function onChange(e){return setHaveRead(e.target.checked);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label mb-3\",htmlFor:\"haveReadCheck\",children:\"Yes, I have read the contact information.\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link\",onClick:function onClick(){return deleteHandler(contact._id);},children:\"Delete\"})]})})]})]})})})]});};export default AdminContactDetailsScreen;","map":{"version":3,"sources":["/Users/landonmckell/PracticeProjects/Portfolio/frontend/src/screens/AdminContactDetailsScreen.js"],"names":["useState","useEffect","Link","Loader","Message","useSelector","useDispatch","getContactDetails","updateContact","deleteContact","CONTACT_UPDATE_RESET","AdminContactDetailsScreen","match","history","contactId","params","id","haveRead","setHaveRead","dispatch","contactDetails","state","loading","error","contact","contactUpdate","loadingUpdate","errorUpdate","successUpdate","success","type","push","name","_id","submitHandler","e","preventDefault","deleteHandler","window","confirm","phone","email","message","target","checked"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Loader from \"../components/Loader\";\nimport Message from \"../components/Message\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  getContactDetails,\n  updateContact,\n  deleteContact,\n} from \"../actions/contactActions\";\nimport { CONTACT_UPDATE_RESET } from \"../constants/contactConstants\";\n\nconst AdminContactDetailsScreen = ({ match, history }) => {\n  const contactId = match.params.id;\n\n  const [haveRead, setHaveRead] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const contactDetails = useSelector((state) => state.contactDetails);\n  const { loading, error, contact } = contactDetails;\n\n  const contactUpdate = useSelector((state) => state.contactUpdate);\n  const {\n    loading: loadingUpdate,\n    error: errorUpdate,\n    success: successUpdate,\n  } = contactUpdate;\n\n  useEffect(() => {\n    if (successUpdate) {\n      dispatch({ type: CONTACT_UPDATE_RESET });\n      history.push(\"/admin/viewcontacts\");\n    } else {\n      if (!contact.name || contact._id !== contactId) {\n        dispatch(getContactDetails(contactId));\n      } else {\n        setHaveRead(contact.haveRead);\n      }\n    }\n  }, [dispatch, history, successUpdate, contact, contactId]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(updateContact({ _id: contactId, haveRead }));\n  };\n\n  const deleteHandler = (id) => {\n    if (window.confirm(\"Are you sure you want to delete this message?\")) {\n      dispatch(deleteContact(id));\n      history.push(\"/admin/viewcontacts\");\n    }\n  };\n\n  return (\n    <>\n      <Link className=\"btn btn-light m-3\" to=\"/admin/viewcontacts\">\n        Go Back\n      </Link>\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-8 offset-md-2 my-4\">\n            <h2>Contact Details</h2>\n            {loadingUpdate && <Loader />}\n            {errorUpdate && <Message variant=\"danger\">{errorUpdate}</Message>}\n            {loading ? (\n              <Loader />\n            ) : error ? (\n              <Message>{error}</Message>\n            ) : (\n              <>\n                <hr />\n                <p>\n                  <em>Name: </em>\n                  {contact.name}\n                </p>\n                <p>\n                  <em>Phone:</em>\n                  <br />\n                  {contact.phone}\n                </p>\n                <p>\n                  <em>Email: </em>\n                  {contact.email}\n                </p>\n                <p>\n                  <em>Message:</em>\n                  <br />\n                  {contact.message}\n                </p>\n                <hr />\n                <form onSubmit={submitHandler}>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"havereadSelection\">\n                      Confirm Read Message?\n                    </label>\n                    <div className=\"form-check\">\n                      <input\n                        className=\"form-check-input\"\n                        type=\"checkbox\"\n                        checked={haveRead}\n                        id=\"haveReadCheck\"\n                        onChange={(e) => setHaveRead(e.target.checked)}\n                      />\n                      <label\n                        className=\"form-check-label mb-3\"\n                        htmlFor=\"haveReadCheck\"\n                      >\n                        Yes, I have read the contact information.\n                      </label>\n                    </div>\n                    <button type=\"submit\" className=\"btn btn-primary\">\n                      Update\n                    </button>\n                    <button\n                      className=\"btn btn-link\"\n                      onClick={() => deleteHandler(contact._id)}\n                    >\n                      Delete\n                    </button>\n                  </div>\n                </form>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default AdminContactDetailsScreen;\n"]},"metadata":{},"sourceType":"module"}